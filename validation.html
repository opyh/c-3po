
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Validation Â· c-3po javascript es6 localization tool</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="multiline-strings.html" />
    
    
    <link rel="prev" href="translator-comments.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"c-3po-org/c-3po","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">General</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="chapter1.html">
            
                <a href="chapter1.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration(babel plugin)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="configuration-c-3po-lib.html">
            
                <a href="configuration-c-3po-lib.html">
            
                    
                    Configuration(c-3po lib API)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="translator-comments.html">
            
                <a href="translator-comments.html">
            
                    
                    Leaving comments for the translator
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6" data-path="validation.html">
            
                <a href="validation.html">
            
                    
                    Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="multiline-strings.html">
            
                <a href="multiline-strings.html">
            
                    
                    Multiline strings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="aliasing.html">
            
                <a href="aliasing.html">
            
                    
                    Aliasing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="c-3po-ignore.html">
            
                <a href="c-3po-ignore.html">
            
                    
                    Ignoring code blocks
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">functions</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="tag-gettext--t-.html">
            
                <a href="tag-gettext--t-.html">
            
                    
                    t (tag-gettext)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="ngettext.html">
            
                <a href="ngettext.html">
            
                    
                    ngettext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="jsx-tag-jt.html">
            
                <a href="jsx-tag-jt.html">
            
                    
                    jt (jsx-gettext)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="gettext.html">
            
                <a href="gettext.html">
            
                    
                    gettext
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Tutorials</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="quick-start.html">
            
                <a href="quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="localization-with-webpack-and-c-3po.html">
            
                <a href="localization-with-webpack-and-c-3po.html">
            
                    
                    Localization with webpack and c-3po
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="translations-without-transpile.html">
            
                <a href="translations-without-transpile.html">
            
                    
                    Translate without translpile
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">FAQ</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="why-use-msgid-for-ngettext.html">
            
                <a href="why-use-msgid-for-ngettext.html">
            
                    
                    Why to use msgid tag for ngettext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="why-po-is-not-updated.html">
            
                <a href="why-po-is-not-updated.html">
            
                    
                    Why .pot(.po) file is not generated/updated
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="CHANGELOG.html">
            
                <a href="CHANGELOG.html">
            
                    
                    CHANGELOG
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="MIGRATION.html">
            
                <a href="MIGRATION.html">
            
                    
                    Migration Guide
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Validation</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="translations-validation-with-babel-c-3po-plugin">Translations validation with babel-c-3po-plugin</h1>
<p>One of the key features of <em>c-3po</em> library is the built-in validation of the translations format.
Validation is happening when the c-3po plugin is enabled in babel config.</p>
<h3 id="why-do-we-need-translations-validation">Why do we need translations validation?</h3>
<ol>
<li>Making extracted translatable strings readable for the translator (nontechnical person).</li>
<li>Having control over which strings are not translated (CI integration e.t.c).</li>
<li>Validating <em>c-3po</em> functions format to prevent bugs.</li>
</ol>
<h2 id="format-validation">Format validation</h2>
<p>Format validation errors enabled for all tags and functions by default.</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> { t } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;c-3po&apos;</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">username</span>) </span>{
    <span class="hljs-keyword">return</span> t<span class="hljs-string">`<span class="hljs-subst">${username}</span>`</span>;   
}
</code></pre>
<p>Error:</p>
<pre><code class="lang-bash">ERROR <span class="hljs-keyword">in</span> ./app.js
Module build failed: SyntaxError: Can not translate <span class="hljs-string">&apos;${ username }&apos;</span>

  1 | import { t } from <span class="hljs-string">&apos;c-3po&apos;</span>;
  2 | <span class="hljs-keyword">function</span> <span class="hljs-built_in">test</span>(username) {
&gt; 3 |     <span class="hljs-built_in">return</span> t`<span class="hljs-variable">${username}</span>`;
    |            ^
  4 | }
</code></pre>
<p>This error occurred because there is no meaningful information for 
the translator in <code>${ username }</code> string.</p>
<blockquote>
<p>More about <code>t</code> tag format <a href="tag-gettext--t-.html#tag-gettext-format">here</a></p>
</blockquote>
<h3 id="disabling-format-validation">Disabling format validation</h3>
<p>You can disable validation by <code>c-3po</code> config - <a href="configuration.html#configextractorsfunctionnameinvalidformat-string-one-of-fail-warn-skip">extractors.invalidFormat</a></p>
<p>Example .babelrc:</p>
<pre><code class="lang-json">{
 <span class="hljs-string">&quot;plugins&quot;</span>: [
    [<span class="hljs-string">&quot;c-3po&quot;</span>,
      {<span class="hljs-string">&quot;extractors&quot;</span>: { <span class="hljs-string">&quot;tag-gettext&quot;</span>: { <span class="hljs-string">&quot;invalidFormat&quot;</span>: <span class="hljs-string">&quot;skip&quot;</span> }}}
    ]]
}
</code></pre>
<h2 id="translations-are-not-found">Translations are not found</h2>
<p>You can configure c-3po to fail when some translation is not found (disabled by default).
This can be integrated somewhere during CI job if you want to ensure that all strings
have appropriate translations inside .po files.</p>
<p>Example:</p>
<pre><code class="lang-bash">Module build failed: SyntaxError: No <span class="hljs-string">&quot;unresolved&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;uk.po&quot;</span> file

  1 | import { ngettext, msgid, t } from <span class="hljs-string">&apos;c-3po&apos;</span>;
  2 | <span class="hljs-keyword">function</span> <span class="hljs-built_in">test</span>(username) {
&gt; 3 |     <span class="hljs-built_in">return</span> t`unresolved`;
    |            ^
  4 | }
</code></pre>
<p>Config to enable this (<a href="configuration.html#configresolveunresolved-string-one-of-fail-warn-skip">resolve.unresolved</a>):</p>
<pre><code class="lang-json">{
 <span class="hljs-string">&quot;plugins&quot;</span>: [
    [<span class="hljs-string">&quot;c-3po&quot;</span>,
      {<span class="hljs-string">&quot;translations&quot;</span>: <span class="hljs-string">&quot;uk.po&quot;</span>, <span class="hljs-string">&quot;unresolved&quot;</span>: <span class="hljs-string">&apos;fail&apos;</span>}
    ]]
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="translator-comments.html" class="navigation navigation-prev " aria-label="Previous page: Leaving comments for the translator">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="multiline-strings.html" class="navigation navigation-next " aria-label="Next page: Multiline strings">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Validation","level":"1.6","depth":1,"next":{"title":"Multiline strings","level":"1.7","depth":1,"path":"multiline-strings.md","ref":"multiline-strings.md","articles":[]},"previous":{"title":"Leaving comments for the translator","level":"1.5","depth":1,"path":"translator-comments.md","ref":"translator-comments.md","articles":[]},"dir":"ltr"},"config":{"plugins":["anchorjs","github-buttons","github-edit","ga","toc"],"root":"./gitbook","styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"toc":{},"search":{},"lunr":{"ignoreSpecialCharacters":false,"maxIndexSize":1000000},"fontsettings":{"family":"sans","size":2,"theme":"white"},"highlight":{},"github-edit":{"repo":"c-3po-org/c-3po","branch":"master"},"github-buttons":{"repo":"c-3po-org/c-3po","types":["star"],"size":"small"},"ga":{"configuration":"auto","token":"UA-90721450-1"},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"edit-link":{"base":"https://github.com/c-3po-org/c-3po/edit/master/gitbook","label":"Edit This Page"},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"anchorjs":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"c-3po javascript es6 localization tool","gitbook":"*"},"file":{"path":"validation.md","mtime":"2017-03-27T10:56:54.286Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-26T14:22:42.233Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.1/anchor.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-github-edit/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

